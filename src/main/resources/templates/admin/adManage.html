<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{admin_page_test/admin_layout/layout.html}" lang="ko">
<head>
  <meta charset="UTF-8">
  <title>광고 관리</title>
  <script src="/js/adManage.js" defer></script>
</head>

<body>
<div layout:fragment="content" class="p-4">

  <h1>📢 광고 관리</h1>

  <!-- 광고 등록/수정 폼 -->
  <section>
    <h2>광고 등록
      <span id="adEditStatus" style="color: orange; display: none;">(수정 중)</span>
    </h2>
    <form id="adForm">
      <input type="hidden" id="adId" /> <!-- 수정용 ID -->

      <label>제목: <input type="text" id="title" class="form-control mb-2" /></label><br />
      <label>이미지 파일: <input type="file" id="imageFile" name="image" /></label><br />
      <label>링크 URL: <input type="text" id="linkUrl" class="form-control mb-2" /></label><br />
      <label>시작일: <input type="datetime-local" id="startDateTime" class="form-control mb-2" /></label><br />
      <label>종료일: <input type="datetime-local" id="endDateTime" class="form-control mb-2" /></label><br />

      <label>광고회사:
        <select id="companySelect" class="form-control mb-2"></select>
      </label><br />

      <label>
        팝업으로 표시:
        <input type="checkbox" id="showPopup" name="showPopup" />
      </label><br /><br />

      <button type="submit" id="adSubmitBtn" class="btn btn-primary">등록</button>
    </form>
  </section>

  <hr />

  <!-- 광고 목록 테이블 -->
  <section>
    <h2>등록된 광고 목록</h2>
    <table class="table table-bordered text-center">
      <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>제목</th>
        <th>회사</th>
        <th>시작일</th>
        <th>종료일</th>
        <th>상태</th>
        <th>연장횟수</th> <!-- ✅ 추가 -->
        <th>수정</th>
        <th>연장</th> <!-- ✅ 추가 -->
        <th>삭제</th>
      </tr>
      </thead>
      <tbody id="adList">
      <!-- JS로 광고 목록 추가 -->
      </tbody>
    </table>
  </section>

  <hr />

  <!-- 광고회사 등록/수정 폼 -->
  <section>
    <h2>광고회사 관리
      <span id="companyEditStatus" style="color: orange; display: none;">(수정 중)</span>
    </h2>
    <form id="companyForm">
      <input type="hidden" id="companyId" />

      <label>회사명: <input type="text" id="companyName" class="form-control mb-2" /></label><br />
      <label>담당자명: <input type="text" id="managerName" class="form-control mb-2" /></label><br />
      <label>전화번호: <input type="text" id="contactNumber" class="form-control mb-2" /></label><br />
      <label>이메일: <input type="email" id="email" class="form-control mb-2" /></label><br />

      <button type="submit" id="companySubmitBtn" class="btn btn-success">등록</button>
    </form>
  </section>

  <!-- 광고회사 목록 테이블 -->
  <section class="mt-4">
    <h2>등록된 광고회사</h2>
    <table class="table table-bordered text-center">
      <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>회사명</th>
        <th>담당자</th>
        <th>연락처</th>
        <th>이메일</th>
        <th>수정</th>
        <th>삭제</th>
      </tr>
      </thead>
      <tbody id="companyList">
      <!-- JS로 회사 목록 추가 -->
      </tbody>
    </table>
  </section>

</div>
</body>
</html>
